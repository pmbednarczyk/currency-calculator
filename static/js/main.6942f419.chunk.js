(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{159:function(e,r,n){"use strict";n.r(r);var t=n(0),a=n.n(t),c=n(9),l=n.n(c),s=n(162),i=n(27),u=n(62),o=(n(99),n(17)),p=n(66),y=n.n(p),d=n(67),b=n(68),C=n.n(b),m=n(3),h=" currencies/LOAD_CURRENCIES",v="currencies/LOAD_CURRENCIES_SUCCESS",_="currencies/LOAD_CURRENCIES_FAIL",f={data:[],isProcessing:!1,isProcessed:!1};var O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case h:return Object(m.a)({},e,{isProcessing:!0});case v:var n=Object.keys(r.payload.data.rates).map(function(e){return{value:r.payload.data.rates[e],label:e}});return Object(m.a)({},e,{isProcessing:!1,isProcessed:!0,data:n});case _:return Object(m.a)({},e,{isProcessing:!1,isProcessed:!1});default:return e}},g=" selectedCurrencies/CONVERT_CURRENCIES",E="selectedCurrencies/CONVERT_CURRENCIES_SUCCESS",T="selectedCurrencies/CONVERT_CURRENCIES_FAIL",j={currencyToSell:{label:"",amount:0},currencyToBuy:{label:"",amount:0},exchangeRate:{isProcessing:!1,isProcessed:!1,currencyToSell:{label:"",rate:0},currencyToBuy:{label:"",rate:0}}},S=function(e,r){return{type:"selectedCurrencies/SET_CURRENCY_DATA",currencyType:e,data:r}};function R(e,r){return{types:[g,E,T],payload:{request:{url:"/latest",params:{symbols:"".concat(e,",").concat(r),base:e}}}}}var N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(r.type){case"selectedCurrencies/SET_CURRENCY_DATA":var n=r.data,t=n.label,a=n.amount,c=function(e,r,n,t){if(!t)return"";var a,c=e.currencyToBuy.rate;return"currencyToSell"===n&&(a=t*c),"currencyToBuy"===n&&(a=t/c),String(a).includes(".")?a.toFixed(2):a}(e.exchangeRate,0,r.currencyType,a);return Object(m.a)({},e,{currencyToSell:Object(m.a)({},e.currencyToSell,{label:"currencyToSell"===r.currencyType?t:e.currencyToSell.label,amount:"currencyToSell"===r.currencyType?a:c}),currencyToBuy:Object(m.a)({},e.currencyToBuy,{label:"currencyToBuy"===r.currencyType?t:e.currencyToBuy.label,amount:"currencyToBuy"===r.currencyType?a:c})});case g:return Object(m.a)({},e,{exchangeRate:Object(m.a)({},e.exchangeRate,{isProcessing:!0})});case E:var l=r.payload.data,s=l.rates,i=l.base,u=Object.keys(s).find(function(e){return e!==i});return Object(m.a)({},e,{exchangeRate:{isProcessing:!1,isProcessed:!0,currencyToSell:Object(m.a)({},e.exchangeRate.currencyToSell,{label:i,rate:s[i]}),currencyToBuy:Object(m.a)({},e.exchangeRate.currencyToBuy,{label:u,rate:s[u]})}});case T:return Object(m.a)({},e,{exchangeRate:Object(m.a)({},j.exchangeRate,{isProcessing:!1,isProcessed:!1})});default:return e}},A=Object(o.c)({currencies:O,selectedCurrencies:N}),P=y.a.create({baseURL:"https://api.exchangeratesapi.io/",responseType:"json"}),B="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):o.d,D=n(11),x=n(12),k=n(14),w=n(13),I=n(15),V=n(163),U=n(161),L=n(160),W=n(69),M=n.n(W),X=n(70),q=n.n(X),F=function(e){function r(){return Object(D.a)(this,r),Object(k.a)(this,Object(w.a)(r).apply(this,arguments))}return Object(I.a)(r,e),Object(x.a)(r,[{key:"render",value:function(){var e=this.props.content;return a.a.createElement("div",{className:q.a.pageContainer},e)}}]),r}(t.Component),K=n(4),H=n(8),J=n.n(H),z=n(20),Q=n.n(z),Y=function(e){var r,n=e.children,t=e.disabled,c=e.fullWidth,l=e.primary,s=e.onClick,i=e.raiseOnInteraction,u=J()((r={},Object(K.a)(r,Q.a.btn,!0),Object(K.a)(r,Q.a.primary,l),Object(K.a)(r,Q.a.disabled,t),Object(K.a)(r,Q.a.fullWidth,c),Object(K.a)(r,Q.a.raise,i),r));return a.a.createElement("button",{className:u,onClick:s,disabled:t},n)};Y.defaultProps={disabled:!1,fullWidth:!1,primary:!1,raiseOnInteraction:!1};var G=Y,Z=function(e){Object(t.useEffect)(function(){return document.body.classList.add("animatedBg"),function(){document.body.classList.remove("animatedBg")}});var r=a.a.createElement(a.a.Fragment,null,a.a.createElement("h1",null,"Ladies and gentlemans..."),a.a.createElement("p",null,"I would like to present you the currencies converter!"),a.a.createElement(G,{raiseOnInteraction:!0,primary:!0,onClick:function(){return e.history.push("/converter")}},"SEE THE DEVICE"));return a.a.createElement(F,{content:r})},$=[{label:"USD",value:1210},{label:"PLN",value:2847},{label:"SEK",value:60689},{label:"GBP",value:56},{label:"MXN",value:3200},{label:"THB",value:269200},{label:"CZK",value:6200}],ee=function(e){return e?Math.round(100*e)/100:null},re=n(80),ne=n(1),te=n.n(ne),ae=(te.a.array,te.a.func,te.a.string,{options:[],onChange:function(){},placeholder:""}),ce=n(71),le=n.n(ce),se=function(e){var r=e.onChange,n=e.options,t=e.placeholder,c=e.value,l=J()(Object(K.a)({},le.a.inputContainer,!0));return a.a.createElement("div",{className:l},a.a.createElement(re.a,{options:n,onChange:function(e){return r(e)},placeholder:t,value:c}))};se.defaultProps=Object(m.a)({},ae);var ie=se,ue=(te.a.func,te.a.oneOfType([te.a.string,te.a.number]),te.a.bool,te.a.string,{onChange:function(){},value:"",isDisabled:!0,placeholder:""}),oe=n(29),pe=n.n(oe),ye=function(e){var r,n=e.onChange,t=e.isError,c=e.type,l=e.value,s=e.placeholder,i=e.isDisabled,u=J()((r={},Object(K.a)(r,pe.a.inputContainer,!0),Object(K.a)(r,pe.a.isError,t),Object(K.a)(r,pe.a.isDisabled,i),r));return a.a.createElement("div",{className:u},a.a.createElement("input",{onChange:function(e){var r=e.target.value;return n(r)},value:l,placeholder:s,disabled:i,type:c}))};ye.defaultProps=Object(m.a)({},ue);var de=ye,be=n(30),Ce=n.n(be),me=function(e){var r=e.selectInput,n=e.input,t=J()(Object(K.a)({},Ce.a.comboBoxContainer,!0));return a.a.createElement("div",{className:t},a.a.createElement("div",{className:Ce.a.selectWrapper},a.a.createElement(ie,r)),a.a.createElement("div",{className:Ce.a.inputWrapper},a.a.createElement(de,n)))};me.defaultProps={selectInput:ae,input:ue};var he=me,ve=n(75),_e=n.n(ve),fe=function(e){function r(e){var n;return Object(D.a)(this,r),(n=Object(k.a)(this,Object(w.a)(r).call(this,e))).onCurrencySelect=function(e){var r={amount:Number(n.props.selectedCurrencies[n.props.currencyType].amount),label:e.label};n.updateCurrencyData(r)},n.onAmountChange=function(e){var r=ee(e),t=Object(m.a)({},n.state.currencyData,{amount:r});n.updateCurrencyData(t)},n.updateCurrencyData=function(e){n.setState({currencyData:e,selectedCurrency:e.label}),n.props.setCurrencyValue(n.props.currencyType,e)},n.getSelectedCurrencyValue=function(){return n.props.currencies.find(function(e){return e.label===n.state.selectedCurrency})},n.getAvailableCurrencies=function(){return"currencyToSell"===n.props.currencyType?n.currencies=n.props.availablePockets:n.currencies=n.props.currencies.filter(function(e){return e.label!==n.props.selectedCurrencies.currencyToSell.label})},n.currencies=n.getAvailableCurrencies(),n.state={selectedCurrency:e.initialCurrency,currencyData:{label:e.initialCurrency,amount:""}},n}return Object(I.a)(r,e),Object(x.a)(r,[{key:"componentDidMount",value:function(){this.props.setCurrencyValue(this.props.currencyType,this.state.currencyData)}},{key:"componentDidUpdate",value:function(e){this.props.selectedCurrencies.currencyToSell.label!==e.selectedCurrencies.currencyToSell.label&&(this.currencies=this.getAvailableCurrencies())}},{key:"render",value:function(){var e=J()(Object(K.a)({},_e.a.currencySelectorContainer,!0));return a.a.createElement("div",{className:e},a.a.createElement(he,{selectInput:{options:this.currencies,onChange:this.onCurrencySelect,placeholder:"Select currency...",value:this.getSelectedCurrencyValue()},input:{onChange:this.onAmountChange,type:"number",value:this.props.selectedCurrencies[this.props.currencyType].amount,isDisabled:0===this.state.selectedCurrency.length,placeholder:"Currency amount..."}}))}}]),r}(t.Component),Oe=n(76),ge=n.n(Oe),Ee=n(77),Te=n.n(Ee),je=1e4,Se=function(e){function r(){var e,n;Object(D.a)(this,r);for(var t=arguments.length,c=new Array(t),l=0;l<t;l++)c[l]=arguments[l];return(n=Object(k.a)(this,(e=Object(w.a)(r)).call.apply(e,[this].concat(c)))).getCurrencyRates=function(){var e=n.props.selectedCurrencies,r=e.currencyToSell,t=e.currencyToBuy;n.props.convertCurrencies(r.label,t.label),n.interval&&clearInterval(n.interval),n.interval=setInterval(function(){n.props.convertCurrencies(r.label,t.label)},je)},n.renderCurrenciesRatio=function(e){if(ge()(e))return null;var r=e.currencyToSell,n=e.currencyToBuy;return a.a.createElement("span",null,"".concat(r.rate," ").concat(r.label," = ").concat(n.rate," ").concat(n.label))},n}return Object(I.a)(r,e),Object(x.a)(r,[{key:"componentDidUpdate",value:function(e){var r=this.props.selectedCurrencies,n=r.currencyToSell,t=r.currencyToBuy,a=e.selectedCurrencies,c=a.currencyToSell,l=a.currencyToBuy;(n.label!==c.label||t.label!==l.label)&&this.getCurrencyRates()}},{key:"render",value:function(){var e=J()(Object(K.a)({},Te.a.ratesCompareContainer,!0));return a.a.createElement("div",{className:e},this.renderCurrenciesRatio(this.props.selectedCurrencies.exchangeRate))}}]),r}(t.Component),Re=n(36),Ne=n.n(Re),Ae=function(e){function r(){return Object(D.a)(this,r),Object(k.a)(this,Object(w.a)(r).apply(this,arguments))}return Object(I.a)(r,e),Object(x.a)(r,[{key:"componentDidMount",value:function(){this.props.loadCurrencies()}},{key:"render",value:function(){var e=a.a.createElement("div",{className:Ne.a.converterContainer},a.a.createElement("div",{className:Ne.a.screenContainer},a.a.createElement(fe,{currencies:this.props.currencies.data,setCurrencyValue:this.props.setCurrencyValue,currencyType:"currencyToSell",initialCurrency:"USD",availablePockets:$,selectedCurrencies:this.props.selectedCurrencies}),a.a.createElement(Se,{selectedCurrencies:this.props.selectedCurrencies,convertCurrencies:this.props.convertCurrencies}),a.a.createElement(fe,{currencies:this.props.currencies.data,setCurrencyValue:this.props.setCurrencyValue,currencyType:"currencyToBuy",initialCurrency:"PLN",selectedCurrencies:this.props.selectedCurrencies})));return this.props.currencies.isProcessing||!this.props.currencies.isProcessed?null:a.a.createElement(F,{content:e})}}]),r}(t.Component),Pe={loadCurrencies:function(){return{types:[h,v,_],payload:{request:{url:"/latest"}}}},setCurrencyValue:function(e,r){return function(n,t){var a=t(),c=r.label,l="currencyToSell"===e,s=a.selectedCurrencies.exchangeRate,i=s.currencyToSell,u=s.currencyToBuy,o=l?i.label:u.label;if(i.label&&u.label&&o!==c){var p={toSell:l?c:i.label,toBuy:l?u.label:c};return n(R(p.toSell,p.toBuy)).then(function(){n(S(e,r))})}return n(S(e,r))}},convertCurrencies:R},Be=[{path:"/",component:Z,exact:!0},{path:"/converter",component:Object(i.b)(function(e){return{currencies:e.currencies,selectedCurrencies:e.selectedCurrencies}},Pe)(Ae),exact:!0}],De=function(e){function r(){return Object(D.a)(this,r),Object(k.a)(this,Object(w.a)(r).apply(this,arguments))}return Object(I.a)(r,e),Object(x.a)(r,[{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(M.a,{defaultTitle:"Currency Calculator",title:"Homepage",titleTemplate:"%s | Currency Calculator"}),a.a.createElement(V.a,null,Be.map(function(e,r){return a.a.createElement(U.a,Object.assign({key:e.path||r},e))})))}}]),r}(t.PureComponent),xe=Object(L.a)(De);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(o.e)(A,e,B(Object(o.a)(C()(P),d.a)))}();l.a.render(a.a.createElement(i.a,{store:ke},a.a.createElement(s.a,null,a.a.createElement(u.a,null,a.a.createElement(xe,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},20:function(e,r,n){e.exports={btn:"styles_btn__2RqcC",raise:"styles_raise__3m8gy",primary:"styles_primary__2qAw0",fullWidth:"styles_fullWidth__2zJvd",gradientAnimation:"styles_gradientAnimation__sTVNa"}},29:function(e,r,n){e.exports={inputContainer:"styles_inputContainer__wWuQV",isDisabled:"styles_isDisabled__PXKe7",gradientAnimation:"styles_gradientAnimation__3Cd-5"}},30:function(e,r,n){e.exports={comboBoxContainer:"styles_comboBoxContainer__3Tu3C",selectWrapper:"styles_selectWrapper__1pvka",inputWrapper:"styles_inputWrapper__1meRR",gradientAnimation:"styles_gradientAnimation__2F96P"}},36:function(e,r,n){e.exports={converterContainer:"styles_converterContainer__1qTe4",screenContainer:"styles_screenContainer__541Lo",gradientAnimation:"styles_gradientAnimation__cEBX6"}},70:function(e,r,n){e.exports={pageContainer:"styles_pageContainer__3EdcK",gradientAnimation:"styles_gradientAnimation__1M3Oi"}},71:function(e,r,n){e.exports={inputContainer:"styles_inputContainer__dOVvq",gradientAnimation:"styles_gradientAnimation__2zNFE"}},75:function(e,r,n){e.exports={currencySelectorContainer:"styles_currencySelectorContainer__2kO6N",gradientAnimation:"styles_gradientAnimation__hnqwK"}},77:function(e,r,n){e.exports={ratesCompareContainer:"styles_ratesCompareContainer__Xk4MQ"}},81:function(e,r,n){e.exports=n(159)},99:function(e,r,n){}},[[81,1,2]]]);
//# sourceMappingURL=main.6942f419.chunk.js.map